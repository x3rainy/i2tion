<% if @tutors.empty? %>
  <p>No tutors yet!</p>
<% end %>

<div class="d-flex flex-wrap m-3">
  <% @tutors.each do |tutor| %>
    <div class="card-product m-3">
      <% if tutor.photo %>
        <%= cl_image_tag tutor.photo, height: 300, width: 400, crop: :fill %>
      <% else %>
        <%= image_tag "https://cdn.pixabay.com/photo/2016/08/08/09/17/avatar-1577909_960_720.png", height: 300, width: 400, crop: :fill %>
      <% end %>
      <div class="card-product-infos">
        <div class="d-flex justify-content-between">
          <p><strong>Name</strong>: <%= tutor.user['name'] %></p>
          <%= link_to 'View', tutor_path(tutor), class: "btn btn-sm btn-primary" %>
        </div>
        <p><strong>Age</strong>: <%= tutor.age %></p>
        <p><strong>Gender</strong>: <%= tutor.gender %></p>
        <div class="d-inline-block">
          <p><strong>Specialisations</strong>:
            <% tutor.specialisations.first(2).each_with_index do |specialisation, i| %>
              <%= specialisation['name'] %> <%= '|' if tutor.specialisations.count != 1 && i + 1 < 2 %>
            <% end %>
            <%= '...+more' unless tutor.specialisations.count <= 2 %>
          </p>
        </div>
      </div>
    </div>
  <% end %>
</div>
